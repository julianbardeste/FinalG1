<!-- Declaraci√≥n del tipo de documento HTML5 -->
<!doctype html>
<!-- Elemento HTML ra√≠z con idioma espa√±ol -->
<html lang="es">
  <!-- Secci√≥n head: contiene metadatos y recursos del documento -->
  <head>
    <!-- Configuraci√≥n del tipo de contenido y codificaci√≥n de caracteres UTF-8 -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!-- Meta viewport para dise√±o responsivo en dispositivos m√≥viles -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <!-- T√≠tulo de la p√°gina que aparece en la pesta√±a del navegador -->
    <title>eMercado - Todo lo que busques est√° aqu√≠</title>
    <!-- Fuente Raleway de Google Fonts con diferentes pesos y estilos -->
    <link
      href="https://fonts.googleapis.com/css?family=Raleway:300,300i,400,400i,700,700i,900,900i"
      rel="stylesheet"
    />
    <!-- Framework Bootstrap para estilos y componentes -->
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <!-- Font Awesome para iconos -->
    <link href="css/font-awesome.min.css" rel="stylesheet" />
    <!-- Estilos generales del sitio -->
    <link href="css/styles.css" rel="stylesheet" />
    <!-- Estilos espec√≠ficos para la p√°gina del carrito de compras -->
    <link href="css/cart.css" rel="stylesheet" />
  </head>

  <!-- Inicio del contenido del cuerpo de la p√°gina -->
  <body>
    <!-- Barra de navegaci√≥n principal con fondo oscuro y responsiva -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark p-1">
      <div class="theme-switch-wrapper">
        <label class="theme-switch" for="checkbox">
          <input type="checkbox" id="checkbox" />
          <div class="slider">
            <span class="icon sun">‚òÄÔ∏è</span>
            <span class="icon moon">üåô</span>
          </div>
        </label>
      </div>
      <!-- Contenedor principal de la navegaci√≥n -->
      <div class="container">
        <!-- Bot√≥n hamburguesa para dispositivos m√≥viles -->
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <!-- Contenido colapsable de la navegaci√≥n -->
        <div class="collapse navbar-collapse" id="navbarNav">
          <!-- Lista principal de navegaci√≥n -->
          <ul class="navbar-nav w-100 justify-content-between">
            <!-- Enlace a la p√°gina de inicio -->
            <li class="nav-item">
              <a class="nav-link" href="index.html">Inicio</a>
            </li>
            <!-- Enlace a la p√°gina de categor√≠as -->
            <li class="nav-item">
              <a class="nav-link" href="categories.html">Categor√≠as</a>
            </li>
            <!-- Enlace a la p√°gina de venta -->
            <li class="nav-item">
              <a class="nav-link" href="sell.html">Vender</a>
            </li>
            <!-- Elemento vac√≠o para espaciado -->
            <li class="nav-item"></li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Contenido principal de la p√°gina del carrito de compras -->
    <main>
      <div class="container mt-5">
        <h1 class="mb-4">
          <i class="fas fa-shopping-cart"></i>
        </h1>

        <div class="row">
          <!-- Lista de productos -->
          <div class="col-lg-8">
            <div id="cart-container">
              <!-- Los productos se cargar√°n aqu√≠ din√°micamente -->
            </div>

            <div id="empty-cart" style="display: none">
              <div class="alert alert-info">
                <i class="fas fa-info-circle"></i> Tu carrito est√° vac√≠o.
                <a href="index.html" id="vacio" class="alert-link"
                  >Continuar comprando</a
                >
              </div>
            </div>
          </div>

          <!-- Resumen del carrito -->
          <div class="col-lg-4">
            <div class="cart-summary">
              <h3>Resumen del pedido</h3>
              <hr />
              <div class="d-flex justify-content-between mb-2">
                <span>Subtotal:</span>
                <span id="cart-subtotal">USD 0.00</span>
              </div>
              <div class="d-flex justify-content-between mb-2">
                <span>Env√≠o:</span>
                <span id="cart-shipping">USD 0.00</span>
              </div>
              <hr />
              <div class="d-flex justify-content-between mb-3">
                <strong>Total:</strong>
                <strong id="cart-total">USD 0.00</strong>
              </div>
              <button class="btn btn-primary w-100 mb-2" id="checkout-btn">
                <i class="fas fa-credit-card"></i> Proceder al pago
              </button>
              <a href="index.html" class="btn btn-outline-secondary w-100">
                Continuar comprando
              </a>
            </div>
          </div>
        </div>

        <!-- Modal de Checkout -->
        <div
          class="modal fade"
          id="checkoutModal"
          tabindex="-1"
          aria-labelledby="checkoutModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="checkoutModalLabel">
                  <i class="fas fa-shopping-bag"></i> Finalizar Compra
                </h5>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div class="modal-body">
                <!-- Tabs de navegaci√≥n -->
                <ul class="nav nav-tabs" id="checkoutTabs" role="tablist">
                  <li class="nav-item" role="presentation">
                    <button
                      class="nav-link active"
                      id="shipping-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#shipping-section"
                      type="button"
                      role="tab"
                    >
                      <i class="fas fa-truck"></i> Env√≠o
                    </button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button
                      class="nav-link"
                      id="address-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#address-section"
                      type="button"
                      role="tab"
                    >
                      <i class="fas fa-map-marker-alt"></i> Direcci√≥n
                    </button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button
                      class="nav-link"
                      id="payment-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#payment-section"
                      type="button"
                      role="tab"
                    >
                      <i class="fas fa-credit-card"></i> Pago
                    </button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button
                      class="nav-link"
                      id="summary-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#summary-section"
                      type="button"
                      role="tab"
                    >
                      <i class="fas fa-check-circle"></i> Resumen
                    </button>
                  </li>
                </ul>

                <!-- Contenido de las tabs -->
                <div class="tab-content mt-4" id="checkoutTabContent">
                  <!-- Tab 1: Tipo de Env√≠o -->
                  <div
                    class="tab-pane fade show active"
                    id="shipping-section"
                    role="tabpanel"
                  >
                    <h5 class="mb-3">Selecciona el tipo de env√≠o</h5>
                    <div class="shipping-options">
                      <div class="form-check shipping-option">
                        <input
                          class="form-check-input"
                          type="radio"
                          name="shippingType"
                          id="premium"
                          value="0.15"
                          checked
                        />
                        <label class="form-check-label" for="premium">
                          <strong>Premium</strong> - 2 a 5 d√≠as (15%)
                          <small class="d-block text-muted"
                            >Env√≠o r√°pido con seguimiento prioritario</small
                          >
                        </label>
                      </div>
                      <div class="form-check shipping-option">
                        <input
                          class="form-check-input"
                          type="radio"
                          name="shippingType"
                          id="express"
                          value="0.07"
                        />
                        <label class="form-check-label" for="express">
                          <strong>Express</strong> - 5 a 8 d√≠as (7%)
                          <small class="d-block text-muted"
                            >Env√≠o est√°ndar con seguimiento</small
                          >
                        </label>
                      </div>
                      <div class="form-check shipping-option">
                        <input
                          class="form-check-input"
                          type="radio"
                          name="shippingType"
                          id="standard"
                          value="0.05"
                        />
                        <label class="form-check-label" for="standard">
                          <strong>Standard</strong> - 12 a 15 d√≠as (5%)
                          <small class="d-block text-muted"
                            >Env√≠o econ√≥mico</small
                          >
                        </label>
                      </div>
                    </div>
                    <div class="mt-3">
                      <button
                        class="btn btn-primary"
                        onclick="nextTab('address-tab')"
                      >
                        Continuar <i class="fas fa-arrow-right"></i>
                      </button>
                    </div>
                  </div>

                  <!-- Tab 2: Direcci√≥n de Env√≠o -->
                  <div
                    class="tab-pane fade"
                    id="address-section"
                    role="tabpanel"
                  >
                    <h5 class="mb-3">Direcci√≥n de env√≠o</h5>
                    <form id="addressForm" class="needs-validation" novalidate>
                      <div class="row">
                        <div class="col-md-6 mb-3">
                          <label for="departamento" class="form-label"
                            >Departamento *</label
                          >
                          <input
                            type="text"
                            class="form-control"
                            id="departamento"
                            required
                          />
                          <div class="invalid-feedback">
                            Por favor ingresa el departamento.
                          </div>
                        </div>
                        <div class="col-md-6 mb-3">
                          <label for="localidad" class="form-label"
                            >Localidad *</label
                          >
                          <input
                            type="text"
                            class="form-control"
                            id="localidad"
                            required
                          />
                          <div class="invalid-feedback">
                            Por favor ingresa la localidad.
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-8 mb-3">
                          <label for="calle" class="form-label">Calle *</label>
                          <input
                            type="text"
                            class="form-control"
                            id="calle"
                            required
                          />
                          <div class="invalid-feedback">
                            Por favor ingresa la calle.
                          </div>
                        </div>
                        <div class="col-md-4 mb-3">
                          <label for="numero" class="form-label"
                            >N√∫mero *</label
                          >
                          <input
                            type="text"
                            class="form-control"
                            id="numero"
                            required
                          />
                          <div class="invalid-feedback">
                            Por favor ingresa el n√∫mero.
                          </div>
                        </div>
                      </div>
                      <div class="mb-3">
                        <label for="esquina" class="form-label"
                          >Esquina *</label
                        >
                        <input
                          type="text"
                          class="form-control"
                          id="esquina"
                          required
                        />
                        <div class="invalid-feedback">
                          Por favor ingresa la esquina.
                        </div>
                      </div>
                    </form>
                    <div class="mt-3">
                      <button
                        class="btn btn-secondary me-2"
                        onclick="prevTab('shipping-tab')"
                      >
                        <i class="fas fa-arrow-left"></i> Anterior
                      </button>
                      <button
                        class="btn btn-primary"
                        onclick="nextTab('payment-tab')"
                      >
                        Continuar <i class="fas fa-arrow-right"></i>
                      </button>
                    </div>
                  </div>

                  <!-- Tab 3: Forma de Pago -->
                  <div
                    class="tab-pane fade"
                    id="payment-section"
                    role="tabpanel"
                  >
                    <h5 class="mb-3">Forma de pago</h5>
                    <div class="payment-options">
                      <div class="form-check payment-option">
                        <input
                          class="form-check-input"
                          type="radio"
                          name="paymentMethod"
                          id="creditCard"
                          value="creditCard"
                          checked
                        />
                        <label class="form-check-label" for="creditCard">
                          <i class="fas fa-credit-card"></i>
                          <strong>Tarjeta de cr√©dito</strong>
                          <small class="d-block text-muted"
                            >Visa, Mastercard, American Express</small
                          >
                        </label>
                      </div>
                      <div class="form-check payment-option">
                        <input
                          class="form-check-input"
                          type="radio"
                          name="paymentMethod"
                          id="bankTransfer"
                          value="bankTransfer"
                        />
                        <label class="form-check-label" for="bankTransfer">
                          <i class="fas fa-university"></i>
                          <strong>Transferencia bancaria</strong>
                          <small class="d-block text-muted"
                            >Recibir√°s instrucciones por email</small
                          >
                        </label>
                      </div>
                    </div>

                    <!-- Campos adicionales para tarjeta de cr√©dito -->
                    <div id="creditCardFields" class="mt-4">
                      <h6 class="mb-3">Datos de la tarjeta</h6>
                      <form
                        id="creditCardForm"
                        class="needs-validation"
                        novalidate
                      >
                        <div class="mb-3">
                          <label for="cardNumber" class="form-label"
                            >N√∫mero de tarjeta *</label
                          >
                          <input
                            type="text"
                            class="form-control"
                            id="cardNumber"
                            placeholder="1234 5678 9012 3456"
                            maxlength="19"
                            required
                          />
                          <div class="invalid-feedback">
                            Por favor ingresa el n√∫mero de tarjeta.
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6 mb-3">
                            <label for="cardExpiry" class="form-label"
                              >Vencimiento *</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="cardExpiry"
                              placeholder="MM/AA"
                              maxlength="5"
                              required
                            />
                            <div class="invalid-feedback">
                              Por favor ingresa la fecha de vencimiento.
                            </div>
                          </div>
                          <div class="col-md-6 mb-3">
                            <label for="cardCVV" class="form-label"
                              >CVV *</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="cardCVV"
                              placeholder="123"
                              maxlength="4"
                              required
                            />
                            <div class="invalid-feedback">
                              Por favor ingresa el CVV.
                            </div>
                          </div>
                        </div>
                        <div class="mb-3">
                          <label for="cardName" class="form-label"
                            >Nombre en la tarjeta *</label
                          >
                          <input
                            type="text"
                            class="form-control"
                            id="cardName"
                            required
                          />
                          <div class="invalid-feedback">
                            Por favor ingresa el nombre como aparece en la
                            tarjeta.
                          </div>
                        </div>
                      </form>
                    </div>

                    <!-- Informaci√≥n para transferencia bancaria -->
                    <div
                      id="bankTransferInfo"
                      class="mt-4"
                      style="display: none"
                    >
                      <div
                        class="alert alert-info alert-dismissible fade show"
                        role="alert"
                      >
                        <i class="fas fa-info-circle"></i>
                        <strong>Instrucciones:</strong> Una vez confirmado el
                        pedido, recibir√°s por email los datos bancarios para
                        realizar la transferencia.
                        <button
                          type="button"
                          class="btn-close"
                          data-bs-dismiss="alert"
                          aria-label="Close"
                        ></button>
                      </div>
                    </div>

                    <div class="mt-3">
                      <button
                        class="btn btn-secondary me-2"
                        onclick="prevTab('address-tab')"
                      >
                        <i class="fas fa-arrow-left"></i> Anterior
                      </button>
                      <button
                        class="btn btn-primary"
                        onclick="nextTab('summary-tab')"
                      >
                        Continuar <i class="fas fa-arrow-right"></i>
                      </button>
                    </div>
                  </div>

                  <!-- Tab 4: Resumen y Costos -->
                  <div
                    class="tab-pane fade"
                    id="summary-section"
                    role="tabpanel"
                  >
                    <h5 class="mb-3">Resumen de tu compra</h5>

                    <!-- Resumen de productos -->
                    <div class="card mb-3">
                      <div class="card-header">
                        <i class="fas fa-shopping-cart"></i> Productos
                      </div>
                      <div class="card-body" id="summary-products">
                        <!-- Se llenar√° din√°micamente -->
                      </div>
                    </div>

                    <!-- Resumen de env√≠o -->
                    <div class="card mb-3">
                      <div class="card-header">
                        <i class="fas fa-truck"></i> Env√≠o
                      </div>
                      <div class="card-body">
                        <p class="mb-1">
                          <strong>Tipo:</strong>
                          <span id="summary-shipping-type"></span>
                        </p>
                        <p class="mb-0">
                          <strong>Direcci√≥n:</strong>
                          <span id="summary-address"></span>
                        </p>
                      </div>
                    </div>

                    <!-- Resumen de pago -->
                    <div class="card mb-3">
                      <div class="card-header">
                        <i class="fas fa-credit-card"></i> Pago
                      </div>
                      <div class="card-body">
                        <p class="mb-0">
                          <strong>M√©todo:</strong>
                          <span id="summary-payment-method"></span>
                        </p>
                      </div>
                    </div>

                    <!-- Costos finales -->
                    <div class="card border-primary">
                      <div class="card-header bg-primary text-white">
                        <i class="fas fa-calculator"></i> Costos
                      </div>
                      <div class="card-body">
                        <div class="d-flex justify-content-between mb-2">
                          <span>Subtotal:</span>
                          <strong id="summary-subtotal">USD 0.00</strong>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                          <span
                            >Costo de env√≠o (<span
                              id="summary-shipping-percent"
                            ></span
                            >):</span
                          >
                          <strong id="summary-shipping-cost">USD 0.00</strong>
                        </div>
                        <hr />
                        <div class="d-flex justify-content-between">
                          <h5>Total:</h5>
                          <h5 class="text-primary" id="summary-total">
                            USD 0.00
                          </h5>
                        </div>
                      </div>
                    </div>

                    <div class="mt-4">
                      <button
                        class="btn btn-secondary me-2"
                        onclick="prevTab('payment-tab')"
                      >
                        <i class="fas fa-arrow-left"></i> Anterior
                      </button>
                      <button
                        class="btn btn-success btn-lg"
                        onclick="finalizePurchase()"
                      >
                        <i class="fas fa-check"></i> Finalizar Compra
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
    <!-- Pie de p√°gina del sitio web -->
    <footer class="text-muted">
      <!-- Contenedor del footer con informaci√≥n institucional -->
      <div class="container">
        <!-- Enlace para volver al inicio de la p√°gina (alineado a la derecha) -->
        <p class="float-end">
          <a href="#">Volver arriba</a>
        </p>
        <!-- Informaci√≥n sobre la afiliaci√≥n institucional -->
        <p>
          Este sitio forma parte de
          <a href="https://jovenesaprogramar.edu.uy/" target="_blank"
            >Jovenes a Programar</a
          >
        </p>
      </div>
    </footer>

    <!-- Indicador de carga (Spinner) que se muestra durante peticiones AJAX -->
    <div id="spinner-wrapper">
      <!-- Animaci√≥n de carga tipo anillo -->
      <div class="lds-ring">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>

    <!-- Secci√≥n de scripts JavaScript -->
    <!-- Bootstrap bundle para funcionalidades interactivas -->
    <script src="js/bootstrap.bundle.min.js"></script>
    <!-- Script de inicializaci√≥n general del sitio -->
    <script src="js/init.js"></script>
    <!-- Script espec√≠fico para la funcionalidad del carrito de compras -->
    <script src="js/cart.js"></script>
    <script src="js/temaClaroOscuro.js"></script>
    <!-- Cierre del elemento body -->
  </body>

  <!-- Cierre del elemento HTML -->
</html>
